dist: xenial

language: php

sudo: false

php:
  - "7.1"
  - "7.2"
  - "7.3.5"
  - nightly

matrix:
  fast_finish: true

env:
  - SYMFONY_VERSION="4.3.2" DB=mysql

before_script:
  # Additional PHP config
  - echo "memory_limit=-1" >> ~/.phpenv/versions/$(phpenv version-name)/etc/conf.d/travis.ini
  - composer self-update

# commands that will verify build
script:
  - ./bin/phpunit

# Customize when the notification emails are sent.
notifications:
  email:
    recipients:
      - angelyx@live.fr
    on_success: never # default: change
    on_failure: always # default: always

# safelist
branches:
  only:
    - master
    - dev

cache:
  pip: true
  directories:
    - $HOME/.composer/cache/files